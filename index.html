<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Finan√ßas - Controle Financeiro Completo</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí∞</text></svg>">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- jsPDF & html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <!-- SheetJS (XLSX) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>

    <!-- Tela de Carregamento -->
    <div id="loader" class="loader-container">
        <div class="loader"></div>
    </div>

    <!-- Container da Aplica√ß√£o -->
    <div id="app" class="app-container hidden">

        <!-- Tela de Login / Registro -->
        <div id="auth-container" class="auth-container">
            <div class="auth-box">
                <h1 class="auth-title">‚ù§ Full Finan√ßas</h1>
                <p class="auth-subtitle">Controle suas finan√ßas, conquiste seus sonhos.</p>
                
                <!-- Formul√°rio de Login -->
                <form id="login-form" class="auth-form">
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Senha" required>
                    <button type="submit">Entrar</button>
                    <p class="auth-toggle">N√£o tem uma conta? <a href="#" id="show-register">Registre-se</a></p>
                </form>

                <!-- Formul√°rio de Registro -->
                <form id="register-form" class="auth-form hidden">
                    <input type="text" id="register-name" placeholder="Nome Completo" required>
                    <input type="email" id="register-email" placeholder="Email" required>
                    <input type="password" id="register-password" placeholder="Senha (m√≠n. 6 caracteres)" required>
                    <button type="submit">Criar Conta</button>
                    <p class="auth-toggle">J√° tem uma conta? <a href="#" id="show-login">Fa√ßa Login</a></p>
                </form>
                <p id="auth-error" class="error-message"></p>
            </div>
             <footer class="auth-footer">Criado by Jottaüíú</footer>
        </div>

        <!-- Conte√∫do Principal (P√≥s-login) -->
        <div id="main-content" class="main-content hidden">
            <!-- Menu Lateral -->
            <div id="sidebar-overlay" class="sidebar-overlay hidden"></div>
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">Full Finan√ßas</h2>
                </div>
                <ul class="sidebar-menu">
                    <li><a href="#" class="nav-link active" data-page="dashboard"><i class="fas fa-chart-pie"></i> Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-page="transactions"><i class="fas fa-exchange-alt"></i> Transa√ß√µes</a></li>
                    <li><a href="#" class="nav-link" data-page="accounts"><i class="fas fa-wallet"></i> Contas</a></li>
                    <li><a href="#" class="nav-link" data-page="cards"><i class="fas fa-credit-card"></i> Cart√µes</a></li>
                    <li><a href="#" class="nav-link" data-page="budgets"><i class="fas fa-bullseye"></i> Or√ßamentos</a></li>
                    <li><a href="#" class="nav-link" data-page="goals"><i class="fas fa-flag-checkered"></i> Objetivos</a></li>
                    <li><a href="#" class="nav-link" data-page="reports"><i class="fas fa-chart-bar"></i> Relat√≥rios</a></li>
                    <li><a href="#" class="nav-link" data-page="tools"><i class="fas fa-tools"></i> Ferramentas</a></li>
                    <li><a href="#" class="nav-link" data-page="profile"><i class="fas fa-user-cog"></i> Perfil</a></li>
                    <li><a href="#" class="nav-link" data-page="support"><i class="fas fa-heart"></i> Apoie o Projeto</a></li>
                </ul>
                <div class="sidebar-footer">
                    <div id="user-info" class="user-info">
                        <div class="user-photo">
                            <img id="sidebar-user-photo" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23e2e8f0'/><text x='50' y='55' text-anchor='middle' font-size='30' fill='%2394a3b8'>üë§</text></svg>" alt="Foto do Usu√°rio">
                        </div>
                        <span id="user-name-display"></span>
                    </div>
                    <button id="logout-btn"><i class="fas fa-sign-out-alt"></i> Sair</button>
                </div>
            </nav>

            <!-- √Årea de Conte√∫do da P√°gina -->
            <main class="page-content">
                <button id="menu-toggle-btn" class="menu-toggle-btn"><i class="fas fa-bars"></i></button>
                <header class="page-header">
                     <h1>‚ù§ Full finan√ßas: Controle Total das Suas Finan√ßas em um S√≥ Lugar!</h1>
                     <p>Criado by Jottaüíú</p>
                </header>
                
                <!-- Se√ß√£o do Dashboard -->
                <section id="dashboard-page" class="page active">
                    <!-- Cards de Resumo -->
                    <div class="summary-cards">
                        <div class="card"><div class="card-icon"><i class="fas fa-balance-scale"></i></div><div class="card-content"><h3>Saldo Total</h3><p id="total-balance">R$ 0,00</p></div></div>
                        <div class="card"><div class="card-icon income"><i class="fas fa-arrow-up"></i></div><div class="card-content"><h3>Receitas do M√™s</h3><p id="monthly-income">R$ 0,00</p></div></div>
                        <div class="card"><div class="card-icon expense"><i class="fas fa-arrow-down"></i></div><div class="card-content"><h3>Despesas do M√™s</h3><p id="monthly-expenses">R$ 0,00</p></div></div>
                        <div class="card"><div class="card-icon savings"><i class="fas fa-piggy-bank"></i></div><div class="card-content"><h3>Economia do M√™s</h3><p id="monthly-savings">R$ 0,00</p></div></div>
                    </div>
                    <!-- Gr√°ficos e Listas -->
                    <div class="dashboard-grid">
                        <div class="chart-container card-large">
                            <h3>Receitas vs. Despesas (√öltimos 6 Meses)</h3>
                            <canvas id="main-chart"></canvas>
                        </div>
                        <div class="list-container">
                            <h3>√öltimas Transa√ß√µes</h3>
                            <ul id="recent-transactions-list">
                                <!-- Transa√ß√µes ser√£o inseridas via JS -->
                            </ul>
                        </div>
                        <div class="list-container">
                            <h3>Faturas Pr√≥ximas</h3>
                            <ul id="upcoming-invoices-list">
                                <!-- Faturas ser√£o inseridas via JS -->
                            </ul>
                        </div>
                         <div class="list-container">
                            <h3>Or√ßamentos do M√™s</h3>
                            <div id="budgets-overview-list">
                                <!-- Or√ßamentos ser√£o inseridos via JS -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o de Transa√ß√µes -->
                <section id="transactions-page" class="page hidden">
                    <h2>Extrato de Transa√ß√µes</h2>
                    <div class="actions-bar">
                        <button id="add-transaction-btn" class="btn-primary"><i class="fas fa-plus"></i> Nova Transa√ß√£o</button>
                        <div class="export-buttons">
                            <button id="export-excel-btn" class="btn-secondary"><i class="fas fa-file-excel"></i> Exportar para Excel (.xlsx)</button>
                            <button id="export-pdf-btn" class="btn-secondary"><i class="fas fa-file-pdf"></i> Exportar para PDF</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table id="transactions-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Categoria</th>
                                    <th>Conta</th>
                                    <th>Valor</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Linhas da tabela ser√£o inseridas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>
                
                <!-- Se√ß√£o de Contas -->
                <section id="accounts-page" class="page hidden">
                    <h2>Gest√£o de Contas</h2>
                    <div class="actions-bar">
                        <button id="add-account-btn" class="btn-primary"><i class="fas fa-plus"></i> Nova Conta</button>
                    </div>
                    <div id="accounts-list" class="accounts-grid">
                        <!-- Cards de conta ser√£o inseridos aqui via JS -->
                    </div>
                </section>

                <!-- Se√ß√£o de Cart√µes de Cr√©dito -->
                <section id="cards-page" class="page hidden">
                    <h2>Controle de Cart√µes de Cr√©dito</h2>
                    <div class="actions-bar">
                        <p>Gerencie as faturas dos seus cart√µes de cr√©dito.</p>
                    </div>
                    <div id="credit-cards-list" class="credit-cards-grid">
                        <!-- Faturas dos cart√µes ser√£o inseridas aqui via JS -->
                    </div>
                </section>

                <!-- Se√ß√£o de Or√ßamentos -->
                <section id="budgets-page" class="page hidden">
                    <h2>Or√ßamentos Mensais</h2>
                     <div class="actions-bar">
                        <button id="add-budget-btn" class="btn-primary"><i class="fas fa-plus"></i> Novo Or√ßamento</button>
                    </div>
                    <div id="budgets-list" class="budgets-grid">
                        <!-- Cards de or√ßamento ser√£o inseridos aqui via JS -->
                    </div>
                </section>

                <!-- Se√ß√£o de Objetivos -->
                <section id="goals-page" class="page hidden">
                    <h2>Meus Objetivos</h2>
                     <div class="actions-bar">
                        <button id="add-goal-btn" class="btn-primary"><i class="fas fa-plus"></i> Novo Objetivo</button>
                    </div>
                    <div id="goals-list" class="goals-grid">
                        <!-- Cards de objetivos ser√£o inseridos aqui via JS -->
                    </div>
                </section>

                <section id="reports-page" class="page hidden">
                    <h2>Relat√≥rios e Gr√°ficos</h2>
                    
                    <!-- Filtros de Per√≠odo -->
                    <div class="reports-filters">
                        <label for="period-filter">Per√≠odo:</label>
                        <select id="period-filter" class="period-select">
                            <option value="current-month">Este M√™s</option>
                            <option value="last-month">M√™s Passado</option>
                            <option value="current-year">Este Ano</option>
                            <option value="last-3-months">√öltimos 3 Meses</option>
                            <option value="last-6-months">√öltimos 6 Meses</option>
                        </select>
                    </div>
                    
                    <!-- √Årea do Gr√°fico -->
                    <div class="reports-chart-container">
                        <h3>Despesas por Categoria</h3>
                        <div class="chart-wrapper">
                            <canvas id="reports-chart"></canvas>
                        </div>
                    </div>
                    
                    <!-- √Årea da Tabela de Resumo -->
                    <div class="reports-summary">
                        <h3>Resumo de Gastos</h3>
                        <div class="summary-table-container">
                            <table id="summary-table">
                                <thead>
                                    <tr>
                                        <th>Categoria</th>
                                        <th>Valor Total</th>
                                        <th>Percentual</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Dados ser√£o inseridos via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                <section id="tools-page" class="page hidden">
                    <h2>Ferramentas Financeiras</h2>
                    
                    <!-- Calculadora de Juros Compostos -->
                    <div class="tools-card">
                        <h3><i class="fas fa-calculator"></i> Calculadora de Juros Compostos</h3>
                        <p class="tools-description">Calcule o crescimento do seu investimento com juros compostos e aportes mensais.</p>
                        
                        <form id="compound-interest-form" class="calculator-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="initial-amount">Valor Inicial (R$)</label>
                                    <input type="number" id="initial-amount" step="0.01" min="0" placeholder="0,00" required>
                                </div>
                                <div class="form-group">
                                    <label for="monthly-contribution">Aporte Mensal (R$)</label>
                                    <input type="number" id="monthly-contribution" step="0.01" min="0" placeholder="0,00" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="interest-rate">Taxa de Juros (% ao ano)</label>
                                    <input type="number" id="interest-rate" step="0.01" min="0" max="100" placeholder="0,00" required>
                                </div>
                                <div class="form-group">
                                    <label for="period-years">Per√≠odo (em anos)</label>
                                    <input type="number" id="period-years" step="0.1" min="0.1" max="100" placeholder="0" required>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn-primary calculator-btn">
                                <i class="fas fa-calculator"></i> Calcular
                            </button>
                        </form>
                        
                        <div id="calculator-results" class="calculator-results hidden">
                            <h4>Resultados do Investimento</h4>
                            <div class="results-grid">
                                <div class="result-item">
                                    <span class="result-label">Valor Total Investido:</span>
                                    <span id="total-invested" class="result-value"></span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Total em Juros:</span>
                                    <span id="total-interest" class="result-value interest"></span>
                                </div>
                                <div class="result-item highlight">
                                    <span class="result-label">Valor Final Acumulado:</span>
                                    <span id="final-amount" class="result-value final"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o de Perfil do Usu√°rio -->
                <section id="profile-page" class="page hidden">
                    <h2><i class="fas fa-user-cog"></i> Meu Perfil</h2>
                    
                    <!-- Se√ß√£o de Informa√ß√µes Pessoais -->
                    <div class="profile-section">
                        <h3><i class="fas fa-user"></i> Informa√ß√µes Pessoais</h3>
                        <div class="profile-card">
                            <form id="profile-form" class="profile-form">
                                <div class="form-group">
                                    <label for="profile-email">Email</label>
                                    <input type="email" id="profile-email" readonly>
                                    <small>O email n√£o pode ser alterado</small>
                                </div>
                                <div class="form-group">
                                    <label for="profile-name">Nome Completo</label>
                                    <input type="text" id="profile-name" placeholder="Seu nome completo" required>
                                </div>
                                <button type="submit" class="btn-primary">
                                    <i class="fas fa-save"></i> Salvar Altera√ß√µes
                                </button>
                            </form>
                            <div id="profile-message" class="profile-message hidden"></div>
                        </div>
                    </div>
                    
                    <!-- Se√ß√£o de Seguran√ßa -->
                    <div class="profile-section">
                        <h3><i class="fas fa-shield-alt"></i> Seguran√ßa</h3>
                        <div class="profile-card">
                            <form id="password-form" class="profile-form">
                                <div class="form-group">
                                    <label for="current-password">Senha Atual</label>
                                    <input type="password" id="current-password" placeholder="Digite sua senha atual" required>
                                </div>
                                <div class="form-group">
                                    <label for="new-password">Nova Senha</label>
                                    <input type="password" id="new-password" placeholder="Digite a nova senha" required minlength="6">
                                    <small>M√≠nimo 6 caracteres</small>
                                </div>
                                <div class="form-group">
                                    <label for="confirm-password">Confirmar Nova Senha</label>
                                    <input type="password" id="confirm-password" placeholder="Confirme a nova senha" required minlength="6">
                                </div>
                                <button type="submit" class="btn-primary">
                                    <i class="fas fa-key"></i> Alterar Senha
                                </button>
                            </form>
                            <div id="password-message" class="profile-message hidden"></div>
                        </div>
                    </div>
                    
                    <!-- Se√ß√£o de Apar√™ncia e Personaliza√ß√£o -->
                    <div class="profile-section">
                        <h3><i class="fas fa-palette"></i> Apar√™ncia e Personaliza√ß√£o</h3>
                        <div class="profile-card">
                            <div class="profile-photo-section">
                                <h4>Foto de Perfil</h4>
                                <div class="photo-upload-area">
                                    <div class="current-photo">
                                        <img id="profile-photo-preview" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23e2e8f0'/><text x='50' y='55' text-anchor='middle' font-size='30' fill='%2394a3b8'>üë§</text></svg>" alt="Foto de Perfil">
                                    </div>
                                    <div class="photo-upload-controls">
                                        <input type="file" id="profile-photo-input" accept="image/*" class="hidden">
                                        <button type="button" id="change-photo-btn" class="btn-secondary">
                                            <i class="fas fa-camera"></i> Alterar Foto
                                        </button>
                                        <button type="button" id="remove-photo-btn" class="btn-danger hidden">
                                            <i class="fas fa-trash"></i> Remover
                                        </button>
                                    </div>
                                    <div id="photo-upload-progress" class="upload-progress hidden">
                                        <div class="spinner"></div>
                                        <span>Enviando foto...</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="currency-section">
                                <h4>Moeda Padr√£o</h4>
                                <div class="form-group">
                                    <label for="default-currency">Moeda Principal</label>
                                    <select id="default-currency" class="currency-select">
                                        <option value="BRL">Real Brasileiro (R$)</option>
                                        <option value="USD">D√≥lar Americano ($)</option>
                                        <option value="EUR">Euro (‚Ç¨)</option>
                                    </select>
                                    <small>Esta ser√° a moeda exibida em toda a aplica√ß√£o.</small>
                                </div>
                            </div>
                            
                            <div id="personalization-message" class="profile-message hidden"></div>
                        </div>
                    </div>
                    
                    <!-- Se√ß√£o Zona de Perigo -->
                    <div class="profile-section danger-zone">
                        <h3><i class="fas fa-exclamation-triangle"></i> Zona de Perigo</h3>
                        <div class="profile-card danger-card">
                            <div class="danger-warning">
                                <h4>‚ö†Ô∏è A√ß√µes Destrutivas</h4>
                                <p>As a√ß√µes nesta se√ß√£o s√£o <strong>irrevers√≠veis</strong> e resultar√£o na perda permanente de todos os seus dados.</p>
                            </div>
                            
                            <div class="danger-actions">
                                <button type="button" id="delete-account-btn" class="btn-danger-large">
                                    <i class="fas fa-trash-alt"></i> Deletar minha conta permanentemente
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o Apoie o Projeto -->
                <section id="support-page" class="page hidden">
                    <h2><i class="fas fa-heart"></i> Apoie o Desenvolvimento do Full Finan√ßas</h2>
                    
                    <div class="support-card">
                        <div class="support-header">
                            <h3>‚ù§Ô∏è Obrigado por usar o Full Finan√ßas!</h3>
                            <p>Este projeto √© desenvolvido com muito amor e dedica√ß√£o para ajudar voc√™ a ter controle total das suas finan√ßas. Se voc√™ gostou do projeto e quer apoiar seu desenvolvimento cont√≠nuo, considere fazer uma doa√ß√£o.</p>
                        </div>
                        
                        <div class="support-content">
                            <div class="pix-info">
                                <h4><i class="fas fa-qrcode"></i> Doa√ß√£o via PIX</h4>
                                <div class="pix-details">
                                    <div class="pix-field">
                                        <label>Nome:</label>
                                        <span>Jo√£o Pedro Carvalho Torres</span>
                                    </div>
                                    <div class="pix-field">
                                        <label>Chave PIX:</label>
                                        <div class="pix-key-container">
                                            <span id="pix-key">88988229312</span>
                                            <button id="copy-pix-btn" class="btn-copy">
                                                <i class="fas fa-copy"></i> Copiar Chave
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div id="copy-message" class="copy-message hidden">
                                    <i class="fas fa-check"></i> Chave copiada!
                                </div>
                            </div>
                            
                            <div class="support-message">
                                <h4>üéØ Como sua doa√ß√£o ajuda:</h4>
                                <ul>
                                    <li>‚Ä¢ Desenvolvimento de novas funcionalidades</li>
                                    <li>‚Ä¢ Melhorias na interface e experi√™ncia do usu√°rio</li>
                                    <li>‚Ä¢ Manuten√ß√£o e atualiza√ß√µes de seguran√ßa</li>
                                    <li>‚Ä¢ Hospedagem e infraestrutura do projeto</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Modal para Adicionar/Editar Transa√ß√£o -->
    <div id="transaction-modal" class="modal-container hidden">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h3 id="transaction-modal-title">Nova Transa√ß√£o</h3>
            <form id="transaction-form">
                <input type="hidden" id="transaction-id">
                <div class="form-group">
                    <label for="transaction-type">Tipo</label>
                    <select id="transaction-type" required>
                        <option value="despesa">Despesa</option>
                        <option value="receita">Receita</option>
                        <option value="transferencia">Transfer√™ncia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transaction-description">Descri√ß√£o</label>
                    <input type="text" id="transaction-description" required>
                </div>
                <div class="form-group">
                    <label for="transaction-amount">Valor</label>
                    <input type="number" step="0.01" id="transaction-amount" placeholder="R$ 0,00" required>
                </div>
                <div class="form-group">
                    <label for="transaction-date">Data</label>
                    <input type="date" id="transaction-date" required>
                </div>
                 <div class="form-group">
                    <label for="transaction-account">Conta</label>
                    <select id="transaction-account" required>
                        <option value="">Selecione uma conta</option>
                        <!-- Op√ß√µes de conta carregadas via JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="transaction-category">Categoria</label>
                    <input type="text" id="transaction-category" list="common-categories" placeholder="Ex: Alimenta√ß√£o" required>
                    <datalist id="common-categories">
                        <option value="Alimenta√ß√£o"></option>
                        <option value="Transporte"></option>
                        <option value="Moradia"></option>
                        <option value="Lazer"></option>
                        <option value="Sa√∫de"></option>
                        <option value="Sal√°rio"></option>
                    </datalist>
                </div>
                <div class="form-group form-group-checkbox">
                    <input type="checkbox" id="transaction-paid">
                    <label for="transaction-paid">Pago/Recebido</label>
                </div>
                
                <div class="form-group">
                    <label for="transaction-attachment">Anexar Comprovante (Opcional)</label>
                    <input type="file" id="transaction-attachment" accept="image/*,.pdf" class="file-input">
                    <small>Aceita imagens (JPG, PNG, GIF) e PDFs. M√°ximo 5MB.</small>
                    <div id="upload-progress" class="upload-progress">
                        <div class="spinner"></div>
                        <span>Enviando comprovante...</span>
                    </div>
                </div>
                
                <!-- Se√ß√£o de Recorr√™ncia -->
                <div class="form-group form-group-checkbox">
                    <input type="checkbox" id="transaction-recurring">
                    <label for="transaction-recurring">Repetir esta transa√ß√£o</label>
                </div>
                
                <div id="recurrence-options" class="recurrence-options hidden">
                    <div class="form-group">
                        <label>Tipo de Recorr√™ncia:</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="recurrence-type" value="monthly" checked>
                                <span>Fixo Mensal</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="recurrence-type" value="installment">
                                <span>Parcelado</span>
                            </label>
                        </div>
                    </div>
                    
                    <div id="monthly-options" class="recurrence-field">
                        <div class="form-group">
                            <label for="recurrence-months">Durante quantos meses?</label>
                            <input type="number" id="recurrence-months" min="2" max="60" placeholder="Ex: 12">
                        </div>
                    </div>
                    
                    <div id="installment-options" class="recurrence-field hidden">
                        <div class="form-group">
                            <label for="recurrence-installments">N√∫mero total de parcelas</label>
                            <input type="number" id="recurrence-installments" min="2" max="60" placeholder="Ex: 12">
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn-primary">Salvar</button>
            </form>
        </div>
    </div>

    <!-- Modal para Adicionar/Editar Conta/Cart√£o -->
    <div id="account-modal" class="modal-container hidden">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h3 id="account-modal-title">Nova Conta</h3>
            <form id="account-form">
                <input type="hidden" id="account-id">
                <div class="form-group">
                    <label for="account-name">Nome da Conta ou Cart√£o</label>
                    <input type="text" id="account-name" placeholder="Ex: Carteira, Cart√£o Nubank" required>
                </div>
                <div class="form-group">
                    <label for="account-type">Tipo</label>
                    <select id="account-type" required>
                        <option value="conta_corrente">Conta Corrente</option>
                        <option value="poupanca">Poupan√ßa</option>
                        <option value="dinheiro">Dinheiro</option>
                        <option value="investimento">Investimento</option>
                        <option value="cartao_credito">Cart√£o de Cr√©dito</option>
                        <option value="outros">Outros</option>
                    </select>
                </div>
                <div class="form-group" id="initial-balance-group">
                    <label for="account-initial-balance">Saldo Inicial</label>
                    <input type="number" step="0.01" id="account-initial-balance" placeholder="R$ 0,00" required>
                </div>
                <!-- Campos espec√≠ficos para cart√£o de cr√©dito -->
                <div id="credit-card-fields" class="hidden">
                    <div class="form-group">
                        <label for="card-closing-day">Dia do Fechamento da Fatura</label>
                        <input type="number" id="card-closing-day" min="1" max="31" placeholder="Ex: 20">
                    </div>
                    <div class="form-group">
                        <label for="card-due-day">Dia do Vencimento da Fatura</label>
                        <input type="number" id="card-due-day" min="1" max="31" placeholder="Ex: 28">
                    </div>
                </div>
                <button type="submit" class="btn-primary">Salvar</button>
            </form>
        </div>
    </div>

    <!-- Modal para Adicionar/Editar Or√ßamento -->
    <div id="budget-modal" class="modal-container hidden">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h3 id="budget-modal-title">Novo Or√ßamento</h3>
            <form id="budget-form">
                <input type="hidden" id="budget-id">
                <div class="form-group">
                    <label for="budget-category">Categoria</label>
                    <input type="text" id="budget-category" list="common-categories" placeholder="Ex: Alimenta√ß√£o" required>
                </div>
                <div class="form-group">
                    <label for="budget-amount">Valor Mensal</label>
                    <input type="number" step="0.01" id="budget-amount" placeholder="R$ 0,00" required>
                </div>
                <button type="submit" class="btn-primary">Salvar Or√ßamento</button>
            </form>
        </div>
    </div>

    <!-- Modal para Adicionar/Editar Objetivo -->
    <div id="goal-modal" class="modal-container hidden">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h3 id="goal-modal-title">Novo Objetivo</h3>
            <form id="goal-form">
                <input type="hidden" id="goal-id">
                <div class="form-group">
                    <label for="goal-name">Nome do Objetivo</label>
                    <input type="text" id="goal-name" placeholder="Ex: Viagem de F√©rias" required>
                </div>
                <div class="form-group">
                    <label for="goal-target-amount">Valor Alvo</label>
                    <input type="number" step="0.01" id="goal-target-amount" placeholder="R$ 0,00" required>
                </div>
                <div class="form-group">
                    <label for="goal-current-amount">Valor Inicial Guardado</label>
                    <input type="number" step="0.01" id="goal-current-amount" placeholder="R$ 0,00">
                </div>
                <div class="form-group">
                    <label for="goal-linked-account">Vincular a uma Conta (Opcional)</label>
                    <select id="goal-linked-account">
                        <option value="">Nenhuma (dep√≥sito manual)</option>
                        <!-- Contas de poupan√ßa/investimento via JS -->
                    </select>
                    <small>Se vincular, o saldo da conta ser√° o valor guardado.</small>
                </div>
                <button type="submit" class="btn-primary">Salvar Objetivo</button>
            </form>
        </div>
    </div>

    <!-- Modal para Pagamento de Fatura -->
    <div id="payment-modal" class="modal-container hidden">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h3 id="payment-modal-title">Pagamento de Fatura</h3>
            <form id="payment-form">
                <input type="hidden" id="payment-card-id">
                <div class="form-group">
                    <label for="payment-card-name">Cart√£o</label>
                    <input type="text" id="payment-card-name" readonly>
                </div>
                <div class="form-group">
                    <label for="payment-amount">Valor a Pagar</label>
                    <input type="number" step="0.01" id="payment-amount" placeholder="R$ 0,00" required>
                </div>
                <div class="form-group">
                    <label for="payment-source-account">Conta de Origem</label>
                    <select id="payment-source-account" required>
                        <option value="">Selecione uma conta</option>
                        <!-- Op√ß√µes de conta carregadas via JS -->
                    </select>
                    <small>Escolha a conta de onde sair√° o dinheiro para pagar a fatura.</small>
                </div>
                <button type="submit" class="btn-primary">Confirmar Pagamento</button>
            </form>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o de Exclus√£o de Conta -->
    <div id="delete-account-modal" class="modal-container hidden">
        <div class="modal-content delete-account-modal">
            <button class="modal-close-btn">&times;</button>
            <h3><i class="fas fa-exclamation-triangle"></i> Confirmar Exclus√£o de Conta</h3>
            <div class="modal-body">
                <div class="delete-warning">
                    <h4>‚ö†Ô∏è ATEN√á√ÉO: Esta a√ß√£o √© IRREVERS√çVEL!</h4>
                    <p>A exclus√£o da sua conta resultar√° na perda <strong>permanente</strong> de todos os seus dados:</p>
                    <ul>
                        <li>‚Ä¢ Todas as suas contas banc√°rias</li>
                        <li>‚Ä¢ Todas as transa√ß√µes (receitas e despesas)</li>
                        <li>‚Ä¢ Todos os or√ßamentos e metas</li>
                        <li>‚Ä¢ Todos os cart√µes de cr√©dito</li>
                        <li>‚Ä¢ Todos os comprovantes anexados</li>
                        <li>‚Ä¢ Sua foto de perfil</li>
                        <li>‚Ä¢ Todas as configura√ß√µes personalizadas</li>
                    </ul>
                    <p><strong>Esta a√ß√£o n√£o pode ser desfeita.</strong></p>
                </div>
                
                <div class="form-group">
                    <label for="confirm-email">Para confirmar, digite seu email:</label>
                    <input type="email" id="confirm-email" placeholder="Digite seu email completo" required>
                    <small>Voc√™ deve digitar exatamente: <strong id="user-email-display"></strong></small>
                </div>
                
                <div class="delete-progress hidden">
                    <div class="spinner"></div>
                    <span>Excluindo sua conta e todos os dados...</span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="closeModal(deleteAccountModal)">Cancelar</button>
                <button type="button" id="confirm-delete-btn" class="btn-danger-large" disabled>
                    <i class="fas fa-trash-alt"></i> Eu entendo as consequ√™ncias, deletar minha conta
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts JS -->
    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
    
    <!-- Rodap√© BETA -->
    <footer class="beta-footer">
        <span>Full Finan√ßas - Projeto em Desenvolvimento (BETA 1)</span>
    </footer>
</body>
</html>
